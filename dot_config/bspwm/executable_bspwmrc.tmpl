#! /bin/sh

pgrep -x sxhkd >/dev/null || sxhkd &

# workspaces
bspc monitor -d      

# focus
bspc config focus_follows_pointer false
bspc config history_aware_focus true
bspc config focus_by_distance true

# Window borders
bspc config border_width 1
bspc config borderless_monocle true
{{ if regexMatch "^tokyonight-(moon|night|storm)$" .colorscheme -}}
{{- block "bspwmrc" (get .tokyonight (regexFind "(moon|night|storm)$" .colorscheme)) -}}
bspc config normal_border_color {{ .fg_dark | quote }}
bspc config focused_border_color {{ .blue | quote }}
bspc config urgent_border_color {{ .orange | quote }}
bspc config presel_border_color {{ .blue | quote }}
{{- end }}{{ end }}

# gaps
bspc config gapless_monocle true
bspc config window_gap 5

# fix pointer
xsetroot -cursor_name left_ptr

# moving floating windows and resize them with mouse, hold alt key
bspc config pointer_modifier mod4
bspc config pointer_action1 move
bspc config pointer_action2 resize_side
bspc config pointer_action3 resize_corner

# script to always initialize with a different wallpaper:
feh --randomize --no-fehbg --bg-fill ~/.config/Wallpaper/

# launch notification daemon
dunst &

# start compositor
picom &

# autostart
~/.config/polybar/launch &
flameshot &
mpd &
