#!/bin/bash

{{ if isExecutable "/bin/pamac" }}
pamac install --no-confirm --as-explicit
{{- else }}
sudo pacman -Syu --noconfirm --asexplicit
{{- end }}
{{- range .packages.linux.pamac.cli }} {{ . | quote }}{{ end }}
{{- if .hasGUI }}
{{- range .packages.linux.pamac.gui }} {{ . | quote }}{{ end }}
{{- end }}

{{ if isExecutable "/bin/snap" }}
sudo snap install
{{- range .packages.linux.snap.cli }} {{ . | quote }}{{ end }}
{{- if .hasGUI }}
{{- range .packages.linux.snap.gui }} {{ . | quote }}{{ end }}
{{- end }}
{{- end }}

{{ if isExecutable "/bin/flatpak" }}
flatpak install
{{- range .packages.linux.flatpak.cli }} {{ . | quote }}{{ end }}
{{- if .hasGUI }}
{{- range .packages.linux.flatpak.gui }} {{ . | quote }}{{ end }}
{{- end }}
{{- end }}
